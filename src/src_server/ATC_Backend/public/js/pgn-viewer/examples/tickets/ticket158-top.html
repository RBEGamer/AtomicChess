<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Redo Layout: top</title>
    <script src="/lib/pgnv.js" type="text/javascript"></script>
</head>
<body>
<p><a href="https://github.com/mliebelt/PgnViewerJS/issues/158">Ticket 158 at GitHub</a>.
    Redo layout: top</p>
<p>First one: Set width with the div only, no additional sizes</p>
<div id="board1" style="width: 400px"></div>
<p>Second one: Set width with the configuration</p>
<div id="board2"></div>
<p>Third one: Set bordSize with the configuration</p>
<div id="board3"></div>
<p>Fourth one: Only a few moves</p>
<div id="board4"></div>
<p>Figfth one: Only a few moves, now with FEN shown</p>
<div id="board5"></div>
<script>
    let pgn = '1.d4 d5 2.Nf3 c5 3.e3 Nc6 4.Be2 { It is clear that White is not fighting for an opening advantage, but this system is actually very solid. White can either reach the Zukertort System by fianchettoing his dark-squared bishop or essay a reversed Slav with c3. Vishnu goes for a reversed exchange Caro-Kann! } 4...cxd4 5.exd4 Bg4 6.c3 e6 7.Qb3 { Nothing special so far. Black has a variety of ways to defend the b7 pawn - I would prefer 7...Rb8, after which Black might even be slightly better, but Vishnu\'s choice is quite reasonable as well. } 7...Qc7 ( 7...Rb8 8.Bf4 Bd6 9.Bxd6 Qxd6 10.Nbd2 Nge7 11.O-O O-O { looks very comfortable for Black. } ) 8.Bf4!? { A fairly typical move that (I believe) is actually a known idea in the exchange Khan. Vishnu calculated 8...Qxf4 for a while (I was sitting two boards away!), but eventually decided on a more prudent approach. Little did he know! } 8...Bd6?? { No, the two question marks are not misplaced. This move actually loses by force, and - no, I did not have a shot of Bourbon before writing this article. I should mention that while 8...  Qxf4 was playable, Black was probably best advised to simply retreat with 8...  Qd7, preserving total equality. But what can possibly be wrong with the text move? } ( 8...Qxf4 9.Qxb7 Qc1+ 10.Bd1 Nd8 11.Qxa8 Bxf3 12.gxf3 Qxb2 13.Ba4+ Ke7 14.O-O { leads to an extremely messy position that is probably more dangerous for Black. As GM Kevin Spraggett notes on his blog, in the position after } 14...Qxa1 15.Qb8 ( 15.Qxa7+ Kf6 16.Qc7 Qxa2 17.Qf4+ Kg6 18.Qg4+ { is an immediate draw. } ) 15...Qxa2 16.Qb4+ Kf6 17.Qxf8 Qxa4 18.Qxd8+ Kf5 19.h4 f6 { "both sides stand badly," but I would still probably take White after 20.Qc8, when it is unclear how Black untangles his knight and rook. } ) ( 8...Qd7 9.Nbd2 Nge7 10.h3 Bxf3 11.Nxf3 Ng6 12.Bh2 Bd6 13.Bxd6 Qxd6 { with complete equality was the way to go. } ) 9.Bxd6 Qxd6 { What now? Vishnu rightly assumed that the immediate 10.Qxb7 is no good on account of 10...Rb8, but White picked up on a subtle detail: with Black\'s king still uncastled, there is always the remote possibility of unpleasant checks along the a4-e8 diagonal. In the absence of Black\'s knight and the d4 pawn, Qa4+ would actually win the bishop.  But are these thoughts relevant in the least? } 10.Ne5! { They are indeed!  When you think about it, this move is actually quite natural: White tries to exploit Black\'s lack of kingside development before. However, when looking at the position live, it took me a while to understand why 10...Nxe5 11.dxe5 Qxe5 failed. Once again, the only way to see 10.Ne5 is to approach the position concretely; to ask yourself if there are any idiosyncrasies specific to the position that you might be able to utilize. } 10...Bxe2 { Vishnu was visibly devastated, but quite understandably does not wish to resign on move 10. } ( 10...Nxe5 11.dxe5 Qxe5 12.Qa4+ { The golden idea! } 12...Kf8 13.Qxg4 ) 11.Qxb7 { Absolutely devastating. Everything is under fire, and Black has no choice but to give up a wagonload of material. } 11...Nd8 { The lesser of evils, although this leads to a completely hopeless ending as well. } ( 11...Nxe5 12.Qxa8+ Ke7 13.Qxa7+ Nd7 14.Kxe2 { was even less appetizing. } ) ( 11...Rb8 12.Qxf7+ Kd8 13.Qxg7 { and White switches his attention to the other rook! } ) 12.Qxa8 Qc7 { Of course, Black will not be able to trap the queen after 13.Kxe2, but Cori chooses the human approach: } 13.Nc6 ( 13.Kxe2 Nf6 { and now White has a few ways to save the queen and keep the extra rook, but } 14.Na3 O-O 15.Nb5 Qb6 16.a4 a6 17.Qa7 { is the most straightforward of them. } ) 13...Qxc6 14.Qxc6+ Nxc6 15.Kxe2 { Black is down an exchange and a pawn, with no compensation whatsoever. The game is effectively over, but a devastated Vishnu makes a few more meaningless moves. } 15...Nge7 16.Nd2 Kd7 17.b4 Rb8 18.a4 1-0';
    PGNV.pgnView("board1", {pgn: pgn, layout: 'top'});
    PGNV.pgnView("board2", {pgn: pgn, layout: 'top', width: "200px"});
    PGNV.pgnView("board3", {pgn: pgn, layout: 'top', boardSize: "460px", showFen: true});
    PGNV.pgnView("board4", {pgn: '1. e4 e5 2. Nf3 Nc6', layout: 'top', boardSize: "280px"});
    PGNV.pgnView("board5", {pgn: '1. e4 e5 2. Nf3 Nc6', layout: 'top', boardSize: "240px", showFen: true});
</script>
</body>
</html>

<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Locale in Edit Mode</title>
    <script src="/lib/pgnv.js" type="text/javascript"></script>
</head>
<body>
<h3>Locale in Edit Mode</h3>

<div>The following examples demonstrate, that different locales in edit mode don't work as expected.
    Do the following:
    <ul>
        <li>Make some moves in the first board (locale de) and look at the notation.</li>
        <li>Then make some moves in the second board (locale en) and look at the noation.</li>
    </ul>

    The 2 boards should have different symbols for the notation, but show the same. 
    See <a href="https://github.com/mliebelt/PgnViewerJS/issues/6">Ticket 6 at GitHub</a>.
</div>

<div id="board1" style="width: 300px; float: left; margin-right: 25px"></div>

<script>
    //var pgn = "1. e4 c6 2. Nc3 d5 3. d4 dxe4 4. Nxe4 Nf6 5. Ng3 e5 6. Nf3 exd4 7. Nxd4 Bc5 8. Qe2+ Be7 9. Be3 Qd5 10. Qc4 Qe5 11. O-O-O Nd5 12. Nf3 Qe6 13. Bd2 b5 14. Qd4 Bf6 15. Qe4 O-O 16. Bd3 Qxe4 17. Nxe4 Be7 18. Rhe1 Na6 19. Nc3 Nac7 20. Nxd5 Nxd5 21. Be4 Be6 22. Nd4 Bc5 23. Nxe6 fxe6 24. f4 a5 25. g3 a4 26. a3 Rab8 27. c3 Rbd8 28. Bg2 Rd6 29. Bh3 Nc7 30. Be3 Bxe3+ 31. Rxe3 Rxd1+ 32. Kxd1 Kf7 33. Kc2 g6 34. Re5 Ke7 35. Bf1 Kd6 36. c4 bxc4 37. Bxc4 Nd5 38. h4 Rg8 39. Re4 Ra8 40. Be2 Ne7 41. Rd4+ Nd5 42. Re4 Ne7 {Start of Shereshevsky Endgame} 43. Bc4 Nd5 44. Re5 Rb8 45. Bd3 Rg8 46. Kc1 c5 47. Bc4 Ra8 48. Re4 Ra7 49. Re2 Rb7 50. Kc2 Rc7 51. Bb5 Ra7 52. Rd2 Ke7 53. Re2 Kd6 54. Re4 Nb6 55. Bf1 Nd5 $2    {But correct play is not much better - see variations} ( 55. ... Rb7 56. Bh3 Re7 57. Kd3 {Black is in an unusual zugswang - either Kd5 or Re8 allow a favourable breakthroughby f5 (Boleslavsky).} 57. ... Kd5 ( 57. ... Re8 58. f5 ) 58. f5 ) 56. Bh3 Nc7 57. Bg4 Ra8 58. Kc1 $3 Ra7 59. Bd1 Nb5 60. Bxa4 Nd4 61. Bd1 Nf5 62. Bg4 Rb7 63. Bxf5 exf5 64. Re3 Kd5 65. Kc2 c4 66. Re5+ Kd6  {...Kd4 a4 would not have saved Black - Boleslavsky gave the following.}    (66. ... Kd4 67. a4 Rb3 ( 67. ... Ra7 68. b3 cxb3+ 69. Kxb3 ) ( 67. ... Rb4 68. a5 Ra4 69. h5 gxh5 ( 69. ... Ra2 70. h6 c3 71. Rb5 Kc4 72. Rb7 cxb2 73. Rxh7 Rxa5 74. Kxb2 Rb5+ 75. Kc2 Ra5 76. Rc7+ Kd4 77. Rg7 Ra2+ 78. Kb3 Rh2 79. Rxg6 ) 70. Rxf5 h4 71. gxh4 Ke4 72. Rc5 Kxf4 73. Kc3 Kg3 74. Rxc4 Rxa5 75. b4 ) 68. a5 Rxg3 69. a6 Rg1 70. Ra5 ) 67. a4 Rb3 68. a5 Rxg3 69. a6 Kc7 70. Rb5 Rg1 71. Rb7+ Kc6 72. Rxh7 Ra1 73. Rg7 1-0";
    var pgn = "1. e4 c6 2. Nc3 d5 3. d4 dxe4 4. Nxe4 Nf6 5. Ng3 e5 6. Nf3 exd4 7. Nxd4 Bc5 8. Qe2+ Be7 9. Be3 Qd5 10. Qc4 Qe5 11. O-O-O Nd5 12. Nf3 Qe6 13. Bd2 b5 14. Qd4 Bf6 15. Qe4 O-O 16. Bd3 Qxe4 17. Nxe4 Be7 18. Rhe1 Na6 19. Nc3 Nac7 20. Nxd5 Nxd5 21. Be4 Be6 22. Nd4 Bc5 23. Nxe6 fxe6 24. f4 a5 25. g3 a4 26. a3 Rab8 27. c3 Rbd8 28. Bg2 Rd6 29. Bh3 Nc7 30. Be3 Bxe3+ 31. Rxe3 Rxd1+ 32. Kxd1 Kf7 33. Kc2 g6 34. Re5 Ke7 35. Bf1 Kd6 36. c4 bxc4 37. Bxc4 Nd5 38. h4 Rg8 39. Re4 Ra8 40. Be2 Ne7 41. Rd4+ Nd5 42. Re4 Ne7 {Start of Shereshevsky Endgame} 43. Bc4 Nd5 44. Re5 Rb8 45. Bd3 Rg8 46. Kc1 c5 47. Bc4 Ra8 48. Re4 Ra7 49. Re2 Rb7 50. Kc2 Rc7 51. Bb5 Ra7 52. Rd2 Ke7 53. Re2 Kd6 54. Re4 Nb6 55. Bf1 Nd5 $2    {But correct play is not much better - see variations} ( 55. ... Rb7 56. Bh3 Re7 57. Kd3 {Black is in an unusual zugswang - either Kd5 or Re8 allow a favourable breakthroughby f5 (Boleslavsky).} 57. ... Kd5 ( 57. ... Re8 58. f5 ) 58. f5 ) 56. Bh3 Nc7 57. Bg4 Ra8 58. Kc1 $3 Ra7 59. Bd1 Nb5 60. Bxa4 Nd4 61. Bd1 Nf5 62. Bg4 Rb7 63. Bxf5 exf5 64. Re3 Kd5 65. Kc2 c4 66. Re5+ Kd6  {...Kd4 a4 would not have saved Black - Boleslavsky gave the following.}    (66. ... Kd4 67. a4 Rb3 ( 67. ... Ra7 68. b3 cxb3+ 69. Kxb3 ) ( 67. ... Rb4 68. a5 Ra4 69. h5 gxh5 ( 69. ... Ra2 70. h6 c3 71. Rb5 Kc4 72. Rb7 cxb2 73. Rxh7 Rxa5 74. Kxb2 Rb5+ 75. Kc2 Ra5 76. Rc7+ Kd4 77. Rg7 Ra2+ 78. Kb3 Rh2 79. Rxg6 ) 70. Rxf5 h4 71. gxh4 Ke4 72. Rc5 Kxf4 73. Kc3 Kg3 74. Rxc4 Rxa5 75. b4 ) 68. a5 Rxg3 69. a6 Rg1 70. Ra5 ) 67. a4 Rb3 68. a5 Rxg3 69. a6 Kc7 70. Rb5 Rg1 71. Rb7+ Kc6 72. Rxh7 Ra1 73. Rg7 1-0";
    pgnv = pgnView("board1", {pgn: pgn, position: "start", locale: 'de'});
</script>


</body>
</html>